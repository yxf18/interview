# Problem: node性能如何优化？

*[interview]: start

## 使用最新版本Node.js
每个版本的性能提升主要来自于两个方面：
V8 的版本更新
Node.js 内部代码的更新优化

## 正确使用流 Stream
在Node中，很多对象都实现了流，对于一个大文件可以通过流的形式发送，不需要将其完全读入内存

## 代码层面优化
合并查询，将多次查询合并一次，减少数据库的查询次数

## 内存管理优化
在 V8 中，主要将内存分为新生代和老生代两代：
新生代：对象的存活时间较短。新生对象或只经过一次垃圾回收的对象
老生代：对象存活时间较长。经历过一次或多次垃圾回收的对象
若新生代内存空间不够，直接分配到老生代
通过减少内存占用，可以提高服务器的性能。

## 关键词: 动静分离、启用缓存、多进程架构、读写分离
*[interview]: end
