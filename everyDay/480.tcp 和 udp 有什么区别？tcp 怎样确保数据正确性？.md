# Problem: tcp 和 udp 有什么区别？tcp 怎样确保数据正确性？

*[interview]: start

## TCP（传输控制协议）和UDP（用户数据报协议）是两种常见的传输层协议，它们在数据传输方面有几个关键的区别：
1. **连接性：**
TCP是面向连接的协议，它在通信之前需要建立连接、传输数据，然后释放连接。
UDP是无连接的协议，它不需要在发送数据之前建立连接，发送方只是将数据包发送给接收方，而无需确认接收方是否准备好接收数据。

2. **可靠性：**
TCP提供可靠的数据传输，它通过序号、确认和重传机制来确保数据的可靠性。如果数据包丢失或损坏，TCP会重新发送丢失的数据，直到接收方收到正确的数据。
UDP不提供数据传输的可靠性保证，它将数据包发送给接收方，但不负责跟踪和重传丢失的数据包。因此，UDP通常用于实时应用程序，如音频和视频流，这些应用程序更关注实时性而不是数据的完整性。

3. **效率：**
TCP的可靠性和流量控制机制使得它比UDP更复杂，数据传输的**开销更大**。
UDP是一种轻量级的协议，没有TCP那样复杂的连接管理和错误恢复机制，因此通常比TCP更**快速**。

### TCP如何确保数据的正确性：

- TCP使用一系列的机制来确保数据的正确传输：
1. 序号和确认： TCP将每个发送的数据包都标记上一个序号，并且接收方会发送确认消息来确认已经收到的数据包。如果发送方没有收到确认消息，它会重新发送数据包。
2. 校验和： TCP在每个数据包的头部添加了一个校验和字段，用于检测数据在传输过程中是否发生了错误。接收方会验证校验和，如果校验和不匹配，则会丢弃数据包并请求重新发送。
3. 超时和重传： 如果发送方在一定时间内没有收到确认消息，它会假设数据包丢失，并重新发送数据包。这个超时和重传机制确保了数据的可靠传输。
4. 流量控制： TCP通过流量控制机制来控制发送方发送数据的速率，以确保接收方不会因为接收速度过慢而丢失数据。

总的来说，TCP通过这些机制来确保数据的可靠传输，使得它在网络通信中被广泛应用于需要数据完整性和可靠性的应用场景。

## 关键词: #TCP #UDP #连接性 #可靠性 #效率 #序号和确认 #校验和 #超时和重传 #流量控制
*[interview]: end
