# Problem: 浏览器缓存了解么?

*[interview]: start
## 浏览器缓存
1. 浏览器发送请求前，根据请求头的expires和cache-control判断是否命中（包括是否过期）强缓存策略，如果命中，直接从缓存获取资源，并不会发送请求。如果没有命中，则进入下一步。
2. 没有命中强缓存规则，浏览器会发送请求，根据请求头的last-modified和etag判断是否命中协商缓存，如果命中，直接从缓存获取资源。如果没有命中，则进入下一步。
3. 如果前两步都没有命中，则直接从服务端获取资源。

## 强缓存：
不会向服务器发送请求，直接从缓存中读取资源。强缓存需要服务端设置expires和cache-control。

## 协商缓存： 
协商缓存就是强制缓存失效后，浏览器携带缓存标识向服务器发起请求，由服务器根据缓存标识决定是否使用缓存的过程。需要服务端设置etag、last-modified

## 缓存位置
| 状态 | 类型 | 说明 |
|:---:|:---:|:---:|
| 200 | form memory cache | 不请求网络资源，资源在内存当中，一般脚本、字体、图片会存在内存当中 |
| 200 | from disk cache | 不请求网络资源，在磁盘当中，一般非脚本会存在内存当中，如css等 |
| 200 | 资源大小数值 | 请求服务器下载最新资源 |
| 304 | 报文大小 | 请求服务端发现资源没有更新，使用本地资源 |

## 关键词: 强缓存、协商缓存、缓存位置
*[interview]: end
