# Problem: css如何阻塞文档解析?(浏览器解析过程)

*[interview]: start
当浏览器解析 HTML 文档时，遇到 `<link>、<style>、<script> `等 CSS 相关标签时，会停止解析 HTML 文档，转而下载、解析和执行相应的 CSS 代码。这些标签的出现会阻塞文档解析，这个过程也被称为 CSS 渲染树的构建阶段。

## 具体来说，CSS 可以通过以下方式阻塞文档解析：

1、外部 CSS 文件的下载和解析：当浏览器遇到 \<link> 标签时，会下载外部 CSS 文件并解析其中的样式，这个过程会阻塞文档的解析。

2、\<style> 标签中的样式解析：当浏览器遇到 \<style> 标签时，会解析其中的样式，这个过程也会阻塞文档的解析。

3、JavaScript 中对 CSS 样式的修改：如果 JavaScript 代码中对页面中的样式进行了修改，这个过程会阻塞文档解析，因为浏览器需要重新计算渲染树，以确保页面的样式正确。

## 为了减少 CSS 阻塞文档解析的影响，我们可以采用以下方法：

1、减少 CSS 文件的大小：通过压缩 CSS 文件，去掉冗余代码等方式减小 CSS 文件的大小，可以加快 CSS 文件的下载和解析速度，从而减少对文档解析的阻塞。

2、将 CSS 文件放在文档底部：将 <link> 标签放在文档底部，可以让 HTML 先被解析和渲染，然后再去下载和解析 CSS 文件，从而减少对文档解析的阻塞。

3、使用媒体查询：在 <link> 标签中使用媒体查询，可以让浏览器在下载和解析 CSS 文件时，只解析满足媒体查询条件的样式，从而加快解析速度。

4、将 JavaScript 代码放在文档底部：将 JavaScript 代码放在文档底部，可以让 HTML 先被解析和渲染，然后再去执行 JavaScript 代码，从而减少对文档解析的阻塞。

## 总结
>css不阻止dom的解析(DOM Tree的生成)
js阻止dom的解析
css js都会阻止dom的渲染
**原因：**
js有可能影响dom的解析，比如在js里面新增dom等这些操作
css不能影响dom的解析
而 dom的渲染 是需要等js，css都解析完成后才进行的（浏览器就是这么机智），所以css js都阻止dom的渲染

> [浏览器的解析渲染原理以及JS、CSS阻塞问题分析](https://blog.csdn.net/Liu_yunzhao/article/details/91550704)
## 关键词: css不阻止dom解析、阻止dom渲染
*[interview]: end
