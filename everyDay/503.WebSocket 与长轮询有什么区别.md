# Problem: WebSocket 与长轮询有什么区别?

*[interview]: start

WebSocket 和长轮询（Long Polling）是两种不同的客户端-服务器通信机制，它们在实现实时通信和推送消息方面有一些区别：

## WebSocket：
1. **双向通信：** WebSocket 提供了**全双工通信**，客户端和服务器可以同时发送和接收消息，使得实时通信更加高效和实时。
2. **持久连接：** 通过一次握手建立连接后，WebSocket 使用单个 TCP 连接保持通信会话，从而减少了建立和关闭连接的开销。
3. **低延迟：** 由于建立了持久连接，WebSocket 可以实现低延迟的实时通信，适用于需要快速响应和频繁交互的应用场景。
4. **推送消息：** 服务器可以随时向客户端推送消息，而不需要客户端发起请求。

## 长轮询（Long Polling）：
1. **单向通信：** 长轮询是一种客户端发起的单向通信机制，客户端发送请求，服务器在有新数据时响应，然后客户端再次发起请求。
2. **连接短暂：** 每次客户端发送请求后，服务器会保持连接打开一段时间，等待有新数据到达，然后响应请求。一旦响应返回后，连接会立即关闭。
3. **高延迟：** 由于每次请求的响应时间不确定，长轮询可能会产生较高的延迟，特别是在服务器无新数据返回时，客户端需要等待较长时间。
4. **拉取消息：** 客户端需要定期向服务器发送请求来获取更新，不支持服务器主动推送消息。

总结：
WebSocket 适用于实时性要求较高、需要频繁通信和推送消息的应用场景，如**在线聊天、实时游戏**等。
长轮询适用于需要实时性较弱、对延迟要求较低的应用场景，如**即时通讯、新闻推送**等。
WebSocket 的性能更高，但需要服务器和客户端都支持 WebSocket 协议；长轮询兼容性更好，但性能相对较差，且存在浪费资源的问题。

## 关键词: WebSocket, 长轮询, 实时通信, 推送消息
*[interview]: end
