# Problem: Web常见的攻击方式有哪些？如何防御？

*[interview]: start
Web常见的攻击方式包括但不限于以下几种：

1. **跨站脚本攻击（Cross-Site Scripting，XSS）**：攻击者在Web页面中注入恶意脚本，当用户访问页面时，脚本会在用户的浏览器中执行，从而导致信息窃取、会话劫持等问题。

2. **SQL注入攻击（SQL Injection）**：通过在Web应用的输入框中注入恶意的SQL语句，攻击者可以执行数据库操作，例如删除数据、修改数据、绕过认证等。

3. **跨站请求伪造（Cross-Site Request Forgery，CSRF）**：攻击者通过在受信任的用户身份下执行未经用户授权的操作，利用用户已登录的会话执行恶意操作，例如转账、更改密码等。

4. **点击劫持（Clickjacking）**：攻击者通过在透明的图层上覆盖一个诱骗用户点击的页面元素，欺骗用户点击隐藏的恶意页面元素，例如按钮、链接等。

5. **文件上传漏洞**：攻击者通过上传恶意文件来执行代码、获取权限、绕过访问控制等，例如上传包含恶意脚本的文件，或者上传包含恶意代码的图片等。

6. **会话劫持**：攻击者窃取用户的会话标识（Session ID），然后使用该会话标识冒充用户进行操作，例如登录到用户的账户进行恶意操作。

7. **XML外部实体攻击（XML External Entity Injection，XXE）**：攻击者通过在XML输入中注入恶意实体来执行恶意操作，例如读取本地文件、执行远程代码等。

8. **服务端请求伪造（Server-Side Request Forgery，SSRF）**：攻击者利用服务器端对外部资源的访问权限，向受信任的服务发送恶意请求，例如访问内部系统、执行恶意操作等。

防御这些攻击方式的方法包括但不限于以下几种：

1. **输入验证和过滤**：对所有用户输入的数据进行验证和过滤，确保输入数据符合预期的格式和范围，防止恶意输入。

2. **参数化查询和ORM框架**：使用参数化查询或ORM框架来构建SQL查询，而不是拼接字符串，防止SQL注入攻击。

3. **输出编码**：对输出到页面的所有用户数据进行适当的编码，例如HTML编码、URL编码、JavaScript编码等，以防止XSS攻击。

4. **CSRF令牌**：在每个表单提交或重要操作中包含一个随机生成的CSRF令牌，确保请求是由合法用户发起的。

5. **点击劫持防御**：使用X-Frame-Options头部或Content Security Policy（CSP）来防止页面被嵌入到其他网站中。

6. **安全的文件上传**：限制上传文件的类型和大小，对上传的文件进行严格的验证和处理，确保文件不包含恶意代码。

7. **安全的会话管理**：使用安全的会话管理机制，例如使用HTTPS协议传输会话标识、设置合适的会话超时时间、使用随机生成的会话标识等。

8. **XML外部实体攻击防御**：禁用或限制XML解析器的外部实体引用功能，或使用安全的XML解析库来处理XML输入。

9. **SSRF防御**：限制服务器端对外部资源的访问权限，使用白名单或安全配置来限制请求的目标和协议。

## 关键词: Web攻击, Web安全, XSS, SQL注入, CSRF, 点击劫持, 文件上传漏洞, 会话劫持, XXE, SSRF
*[interview]: end
