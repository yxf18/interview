# Problem: 有没有搭建过 CI/CD?说下 CI/CD 搭建的流程?


*[interview]: start
## CI/CD
CI 代表着持续集成，CD 代表着持续交付和持续部署。简单来说，就是在本地更改代码—git push 推送到代码托管—自动安装依赖，打包测试部署等(开发环境一般自动，生产环境一般需要手动点击按钮上线)

## 自动化流程的必要性
可以避免很多问题，少解决很多冲突，假设前端团队有 6 个人，每个人电脑的系统、node 版本、npm 版本都有可能不一样，就算是规定统一了，每个人拉取代码源仓库 build 出来的产物也可能不一样，这样会产生几个问题：
- 耗时：每个人都需要去构建
- 易冲突：当git做pull、merge、push 等的时候一不小心就会产生各种不必要的冲突要去解决，非常的耗时和不愉快
- 缓存失效：构建出来的静态文件的hash不好控制，容易在客户端失去缓存，即使在webpack中设置了contenthash等等优化

## 一般的 CI/CD 搭建流程：
1. 代码管理：选择一个版本控制系统（如 Git）来管理代码。将代码托管在远程仓库中，并确保开发团队按照一致的分支管理策略进行代码提交和协作。

2. 自动化构建：配置自动化构建流程，以在代码提交或触发特定事件时自动构建项目。使用构建工具（如 **Jenkins**、Travis CI、GitLab CI/CD）来执行构建任务，如编译代码、运行测试等。

3. 自动化测试：集成自动化测试套件，包括单元测试、集成测试和端到端测试等。确保所有的测试都能在自动化环境中运行，并将测试结果与构建过程集成在一起，以提前发现和解决潜在的问题。

4. 静态代码分析：集成静态代码分析工具，如 ESLint、PMD、SonarQube 等，用于检查代码质量、发现潜在的问题和提供代码规范建议。通过在构建过程中执行静态代码分析，可以确保代码符合预定义的标准和最佳实践。

5. 持续集成：配置持续集成流程，确保开发团队频繁地将代码合并到主干分支。当有代码提交时，自动触发构建、测试和代码分析等流程，并及时提供反馈。

6. 持续交付：在持续集成的基础上，配置持续交付流程，自动将通过构建和测试的代码交付到预发布环境或生产环境。这包括构建可部署的软件包、执行部署任务、进行配置管理等。

7. 部署和监控：配置自动化部署流程，将构建和测试通过的代码部署到目标环境。同时，建立监控和日志记录机制，以实时跟踪应用程序的性能和健康状态。

8. 持续反馈和改进：定期审查和改进 CI/CD 流程，根据团队的需求和反馈，调整自动化流程和工具配置。持续迭代和改进 CI/CD 环境，以适应不断变化的需求和技术。

需要注意的是，CI/CD 的搭建流程可能因组织和项目的需求而有所不同。这只是一个一般的概述，实际的 CI/CD 流程可能涉及更多的步骤和工具，需要根据具体情况进行调整和定制。同时，选择适合你团队和项目的工具和平台，也是 CI/CD 架构设计的重要一环。

## 关键词: 自动化构建、持续集成/交付、系统监控、邮件通知
*[interview]: end
