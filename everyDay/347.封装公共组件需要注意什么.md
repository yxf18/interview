# Problem: 封装公共组件需要注意什么?

*[interview]: start
前端组件库的设计原则
一个组件的复杂度，主要来源自身的状态，即组件自身需要维护多少个不依赖于外部输入的状态，设计一个组件，通用的原则有：

## 单一职责
可以保证组件是最细的粒度，且有利于复用，对于不可复用的单一职责组件，可以作为独立组件的内部组件即可

## 通用性
前端的组件要服务于业务，为了更好的复用，又要从业务中抽离出来，抽离出通用的部分

## 封装
良好的组件封装应该是隐藏内部细节和实现意义，并通过props来控制行为和输出。 减少访问全局变量，因为他们打破了封装，创造了不可预测的行为，并且使测试变得困难，可以将全局变量作为组件的props，而不是直接引用。

## 组合
具有多个功能的组件，应该转化为多个小组件。

## 纯组件和非纯组件
非纯组件有显示的副作用，我们要尽量隔离非纯代码。将全局变量作为props传递给组件，而非将其注入到组件的作用域中。将网络请求和组件渲染分离，只将数据传递给组件，保证组件职责的单一性，也能将非纯代码从组件中隔离。

## 可测试
测试不仅仅是自动检测错误，更是检测组件的逻辑，如果一个组件不易于测试，很大可能是在组件设计存在问题

## 富有意义
开发人员大部分时间都在阅读和理解代码，而不是实际编写代码。
有意义的函数、变量命名，可以让代码具有良好的可读性。

## 关键词: 单一职责、通用性、封装、组合、纯组件和非纯组件、可测试、富有意义
*[interview]: end
