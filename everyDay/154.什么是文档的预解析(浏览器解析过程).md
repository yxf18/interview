# Problem: 什么是文档的预解析?(浏览器解析过程)

*[interview]: start
## 定义
文档的预解析是浏览器在解析 HTML 文档时的一个优化过程。浏览器在解析 HTML 文档时，需要完成一系列复杂的操作，如**构建文档对象模型（DOM）、执行 JavaScript 脚本、加载样式表**等等，这些操作会影响页面加载时间和性能。为了优化页面加载速度，浏览器会在文档加载过程中进行预解析，从而**提前获取和处理一些重要的信息**，以加快后续操作的执行。

## 具体来说，文档的预解析过程通常包括以下几个步骤：
1. 浏览器会先扫描文档中的所有元素和资源（如图像、样式表、JavaScript 脚本等），并将它们加入到相应的队列中。
2. 浏览器会针对某些元素（如\<link>、\<script>、\<img>等）进行特殊处理，例如预加载资源、解析 JavaScript 脚本、预下载图片等等。
3. 浏览器会根据文档中的\<meta>元素和 HTTP 头信息，确定文档的编码方式和渲染模式。
4. 浏览器会生成文档的初始 DOM 树和 CSSOM 树，并将它们关联起来。
5. 浏览器会执行一些其他的优化操作，如预渲染页面、对资源进行压缩等等。

需要注意的是，文档的预解析过程并不是标准的浏览器行为，不同的浏览器可能会有不同的实现方式和优化策略。此外，由于预解析可能会影响文档的渲染结果和性能，因此在编写 HTML 代码时需要注意遵循一些最佳实践，如将样式表放在\<head>中、避免使用过多的 JavaScript 等。

## 关键词: 构建文档对象模型（DOM）、执行 JavaScript 脚本、加载样式表
*[interview]: end
