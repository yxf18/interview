# Problem: 即时通讯的实现：短轮询、长轮询、SSE 和 WebSocket 间的区别

\*[interview]: start

短轮询：每隔一段时间就向服务器发送请求，服务器无数据不反回，有数据则返回数据。

长轮询：每隔一段时间就向服务器发送请求，服务器没有数据就挂起，直到有数据返回。

SSE：服务器发送事件，服务器向客户端发送数据，客户端不需要发送请求。本质上是一个 http 长连接，发给客户端的不是一次性的数据包，而是一个 stream 流，响应头设置 Content-Type:text/event-stream，所以客户端不会关闭连接，断开重连机制。

WebSocket：客户端和服务器都可以向对方发送数据，客户端和服务器都可以主动发送数据。需要手动实现心跳检测。

兼容性考虑：短轮询>长轮询>长连接 SSE>WebSocket
从性能方面考虑：WebSocket>长连接 SSE>长轮询>短轮询
服务端推送：WebSocket>长连接 SSE>长轮询

\*[interview]: end
