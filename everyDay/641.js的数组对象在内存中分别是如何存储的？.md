# Problem: js的数组/对象在内存中分别是如何存储的？

*[interview]: start
在 JavaScript 中，数组和对象都是通过引用来存储的。这意味着当你创建一个对象或数组时，实际上在内存中存储的是一个引用地址，这个地址指向对象或数组实际数据的位置。这种存储方式对于理解变量赋值、传递函数参数等行为的影响特别重要。下面是数组和对象在内存中存储方式的更详细解释：

### 对象的存储

- **引用存储**：当你创建一个对象 `{}`，JavaScript 引擎会在堆内存（Heap）中为该对象分配空间，并存储对象的实际数据。变量获得的是这个空间地址的引用。因此，当你将一个对象赋值给另一个变量时，新变量获得的是原对象内存地址的一个引用，而不是对象的一个复制。这就解释了为什么修改引用变量会影响到所有引用该对象的变量。

### 数组的存储

- **引用存储**：数组在 JavaScript 中实质上是特殊类型的对象，它们的存储方式与对象类似。当创建一个数组 `[1, 2, 3]` 时，JavaScript 引擎同样在堆内存中为数组内容分配空间，变量存储的是指向这个内存空间的引用。数组的操作（如添加、删除元素）都是通过这个引用来进行的。

### 内存管理

- **垃圾回收**：JavaScript 引擎使用垃圾回收机制来自动管理内存。当一个对象或数组没有任何引用指向它时，意味着这块内存不再被需要，垃圾回收器会在某个时间点释放这块内存。这个过程是自动的，开发者不需要手动管理内存分配和释放。

### 总结

在 JavaScript 中，对象和数组是通过引用地址来存储在堆内存中的，而变量则存储这个引用地址。这种引用类型的存储方式与基本类型（如数值、字符串、布尔值）直接存储值的方式有本质的区别。理解这一点对于高效使用 JavaScript 中的对象和数组、避免不必要的内存泄露非常重要。

## 关键词: 引用类型, 堆内存, 垃圾回收
*[interview]: end
