# Problem: 说说Vue开发如何针对搜索引擎做SEO优化?

*[interview]: start
Vue针对SEO的几种方案
总所周知，Vue SPA单页面应用对SEO不友好，但是也有相应的解决方案

## 1.1 SSR服务器渲染
Vue.js是构建客户端应用程序的框架。默认的情况下，可以在浏览器中输出Vue组件，进行生成DOM和操作DOM。然而，也可以将同一个组件渲染为服务器端的html字符串，将它们直接发送到浏览器，最后将这些静态标记为"激活"为客户端上完全可交互的应用程序

服务器渲染的 Vue.js 应用程序也可以被认为是"同构"或"通用"，因为应用程序的大部分代码都可以在服务器和客户端上运行。

权衡的地方：
开发条件所限，浏览器特定的代码，只能在某些生命周期钩子函数中使用；一些外部扩展库可能需要特殊处理，才能在服务器渲染应用程序中运行
环境和部署要求更高，需要node.js server 运行环境
高流量的情况下，需要准备相应的服务器负载，并明智地采取缓存策略

优势:
更好的seo，因为搜索引擎爬虫抓取工具可以直接查看完全渲染的页面
更快的内容到达时间，特别是对于缓慢的网络情况或运行缓慢的设备

不足：
一套代码两套执行环境，会引发各种问题，比如服务端没有window、document对象，处理方式是增加判断，如果是客户端才可以执行
涉及构建设置和部署的更多要求，需要处于node server的运行环境
更多的服务端负载

## 1.2 Nuxt 静态化
Nuxt是一个基于Vue生态的更高层的框架，为开发服务端渲染的Vue应用提供了极其便利的开发体验。更酷的是：可以用它来作为静态站生成器。

静态化是Nuxt.js打包的另一种方式，算是Nuxt.js的一个创新点，页面加载速度很快，需要注意的是:在Nuxt.js执行generate静态化打包时，动态路由会被忽略

优势:
纯静态文件，访问速度超快
对比SSR，不涉及到服务器负载方面问题
静态网页不宜遭到黑客攻击，安全性更高
不足：
如果动态路由参数多的话不适用

## 1.3 预渲染 prerender-spa-plugin
如果你只是用来改善少数营销页面(例如/，/about/，/contact等)的seo，那么你可能需要预渲染。无需使用web服务器实时动态编译html，而是使用预渲染的方式，在构建时简单地生成针对特定路由地静态HTML文件。优点就是设置预渲染更简单，并可以将你的前端作为一个完全静态的站点

优势：
改动小，引入插件配置即可
不足：
无法使用动态路由
只适用少量页面的项目，页面多达几百个的情况下打包会非常慢

## 1.4 使用Phantomjs针对爬虫做处理
Phantomjs 是基于一个 webkit内核的无头浏览器，即没有UI界面，即它就是一个浏览器，只是其内的点击、翻页等为人相关操作需要程序设计实现。虽然"Phantomjs 宣布终止开发"，但是已经满足对Vue的SEO处理

这种解决方案其实是一种旁路机制，原理就是通过 nginx配置，判断访问的来源UA是否爬虫访问，如果是则就将搜索引擎的爬虫请求转发到一个 node server，在通过Phantomjs 来解析完整的html，返回给爬虫.

优势：
完全不用改动项目代码，按照原本的spa开发即可，对比开发SSR成本小不要太多
对已用SPA开发完成的项目，这是最好的选择
不足：
部署需要node服务器支持
爬虫访问比网页访问要慢一些，因为定时要定时资源加载完成才返回给爬虫
如果被恶意模拟百度爬虫大量循环爬取，会造成服务器负载方面问题，解决方法是判断访问的ip，是否是百度官方爬虫的ip
## 1.5 总结
如果构建大型网站，比如商城类，直接上SSR服务器渲染；如果是个人博客、公司官网这类，其余三种都可以；如果对已用SPA开发完成的项目进行SEO优化，而且支持node服务器，请使用Phantomjs。

## 关键词: SSR服务器渲染、Nuxt 静态化、预渲染 prerender-spa-plugin、Phantomjs
*[interview]: end
