# Problem: React Hooks 在使用上有哪些限制?

*[interview]: start
React Hooks 在使用上有一些限制和约束，其中一些主要限制包括：

1. **仅在函数组件和自定义 Hook 中可用**：
   - Hooks 只能在函数组件和自定义 Hook 中使用，不能在类组件中使用。这是因为 Hooks 是基于函数组件的特性设计的，无法与类组件中的生命周期方法和状态管理机制兼容。

2. **仅在最顶层调用**：
   - Hooks 必须在函数组件的最顶层调用，不能在循环、条件判断或嵌套函数中使用。这是为了确保 Hooks 的调用顺序始终保持一致，从而避免出现状态错乱或渲染错误的情况。

3. **仅在 React 函数组件中调用 Hooks**：
   - Hooks 只能在 React 函数组件中调用，不能在普通的 JavaScript 函数中调用。这是因为 Hooks 需要依赖 React 的调度器来管理状态和副作用，只有在 React 组件中才能正常工作。

4. **不能在循环或条件语句中使用**：
   - Hooks 的调用顺序必须保持一致，不能在循环或条件语句中动态调用 Hooks。这是因为 React 依赖于 Hooks 的调用顺序来正确地管理状态和副作用。

5. **自定义 Hook 必须以 “use” 开头**：
   - 自定义 Hook 的命名必须以 “use” 开头，这是为了方便开发者识别和区分普通函数和 Hook。

6. **Hook 使用规则必须遵循 ESLint 插件规范**：
   - React 官方提供了一个 ESLint 插件 `eslint-plugin-react-hooks`，用于检测和规范 Hooks 的使用。开发者在使用 Hooks 时应该遵循这些规范，以确保代码质量和一致性。

虽然 React Hooks 提供了一种简洁、灵活的方式来管理组件状态和副作用，但是在使用过程中也需要注意这些限制和约束，以避免出现意外的错误或不一致的行为。

## 关键词: React, Hooks, 函数组件, 自定义 Hook, 顶层调用, ESLint 插件
*[interview]: end
