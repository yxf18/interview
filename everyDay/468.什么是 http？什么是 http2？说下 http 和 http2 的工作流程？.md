# Problem: 什么是 http？什么是 http2？说下 http 和 http2 的工作流程？

*[interview]: start
**HTTP（Hypertext Transfer Protocol）** 是一种用于在客户端和服务器之间传输超文本的协议。它是互联网上数据传输的基础，通常用于从 Web 服务器传输超文本到客户端浏览器。HTTP 是一个无状态协议，每个请求和响应都是独立的，服务器不会保存关于客户端的任何信息。HTTP使用默认端口80。

**HTTP/2** 是 HTTP 协议的第二个主要版本，旨在改进 Web 性能。它是对 HTTP/1.1 的重大升级，引入了一些新特性和改进，包括多路复用、头部压缩、服务器推送等。

## HTTP 的工作流程：
1. **客户端发起请求：** 客户端（通常是浏览器）向服务器发送HTTP请求，请求可以包含各种信息，例如请求的资源、请求方法（GET、POST等）等。
2. **服务器处理请求：** 服务器接收到客户端的请求后，根据请求的内容和服务器上的资源进行处理。服务器可能需要查询数据库、执行业务逻辑等。
3. **服务器返回响应：** 服务器将处理结果以HTTP响应的形式返回给客户端。响应包括一个状态码（表示请求的处理状态）和响应内容（例如HTML文档、图像等）。
4. **客户端解析响应：** 客户端接收到服务器的响应后，根据响应内容进行解析。如果是HTML文档，客户端会渲染页面；如果是其他资源，客户端可能会进行相应的处理。
5. **连接关闭：** 一次HTTP请求-响应过程完成后，连接可以选择关闭，或者保持开放以进行进一步的请求（**keep-alive**）。

## HTTP/2 的工作流程：
1. **建立连接：** 客户端与服务器建立一次TCP连接。HTTP/2可以共享一个连接处理多个请求和响应。
2. **发送请求：** 客户端通过该连接发送多个并行的 HTTP 请求。每个请求都被分配一个唯一的标识符（Stream ID）。
3. **服务器响应：** 服务器接收到请求后，可以同时返回多个响应，无需等待之前的请求完成。
4. **多路复用：** HTTP/2 使用多路复用技术，允许多个请求和响应同时在单个连接上交错传输，提高了网络利用率和响应速度。
5. **头部压缩：** HTTP/2 使用 HPACK 算法对 HTTP 头部进行压缩，将请求和响应的头部信息压缩为二进制格式，减小了传输的数据量。
6. **服务器推送：** 服务器可以预测客户端需要的资源，并在响应中推送这些资源，减少了客户端的等待时间。
7. **流控制：** HTTP/2引入了流控制机制，允许客户端和服务器限制流量，避免了过载。

总体而言，HTTP/2通过引入新的特性，提高了性能、效率和安全性，是HTTP协议的一次重要升级。

## 关键词： TCP, HTTP, HTTP/2, 多路复用, 头部压缩, 服务器推送, 流控制
*[interview]: end
